Game Physics - Basics/Collisions

back to Game Physics - Basics...
Contents
[hide]

    1 Collisions
        1.1 Collision Detection
            1.1.1 Broad Phase
            1.1.2 Narrow Phase
        1.2 Collision Response
            1.2.1 Inelastic Collision
            1.2.2 Elastic Collision
            1.2.3 Collisions in 2 or 3 Dimensions
            1.2.4 Inverse Mass

[edit] Collisions

    Collisions are among the most common interactions between objects in games.
    Theoretically, collisions can also be expressed by radial interaction forces.
    This approach would be impractical and difficult to implement.
    Collisions are interactions with a perfectly sharp distance/force behavior.
    When two bodies do not touch the force is zero.
    As soon as they touch the force is infinitely large, so that the actual collision happens momentarily.
    This is a good approximation of the collisions between rigid bodies. 

[edit] Collision Detection

    After moving all bodies into the new position at the current simulation frame the positions have to be checked whether there are intersections.
    Intersections between bodies have to be detected and have to be corrected in response.
    The detection of intersections between bodies is called collision detection.
    The detection is divided into at least two phases, the broad phase and the narrow phase. 

[edit] Broad Phase

    Most objects never actually interact with each other.
    The goal of the broad phase is to create a list of possible collisions.
    Octrees are often used for this phase.
    The broad phase checks whether the distance of two objects is less than the sum of the radii of each bounding sphere.
    Two objects can only possibly collide if their bounding sphere intersects. 

[edit] Narrow Phase

    The list of possible collisions generated by the broad phase is narrowed down to the list of actual collisions in the narrow phase.
    This phase uses all available information of the shape of each body to detect whether the bodies really intersect.
    Each actual intersection is called contact.
    A contact has a occurrence position and surface normals where the contact occurred.
    The narrow phase finally generates a contact list. 

[edit] Collision Response

    The collision response processes each contact in the contact list to resolve the detected intersections and changes the position and the motion of the intersecting bodies. 

[edit] Inelastic Collision

    Inelastic collision occurs when all energy of relative motion is converted into deformation energy.
    Thus the colliding objects are in rest relative to each other after the collision.
    Car accidents should be inelastic to minimize the acceleration forces on its occupants during the collision.
    Before the collision the objects have the velocities LaTeX: v_1 and LaTeX: v_2.
    Note that we only look at a one dimensional collision for now, thus the quantities involving space are scalars rather than vectors.
    The total momentum LaTeX: p is: 

    LaTeX: p = p_1 + p_2 = m_1\,v_1 + m_2\,v_2 

    The velocities of the objects after the collision are denoted by LaTeX: v_1' and LaTeX: v_2'.
    They have the same velocity LaTeX: v_1' = v_2' = vafter the collision.
    Conservation of momentum states that the total momentum before the collision LaTeX: p equals the total momentum after the collision LaTeX: p', thus: 

    LaTeX: p = p' 
    LaTeX: m_1\,v_1 + m_2\,v_2 = m_1\,v' + m_2\,v'. 

    This equation can be solved for LaTeX: v': 

    LaTeX: v' = \frac{m_1\,v_1 + m_2\,v_2}{m_1 + m_2} 

    The collision happens momentarily with theoretically infinite interaction forces but the momentum the bodies exchange LaTeX: \Delta p is simply the difference of the momentum before and after the collision: 

    LaTeX: \Delta p = v_2'\,m_2 - v_2\,m_2 = \left( \frac{m_1\,v_1 + m_2\,v_2}{m_1 + m_2} - v_2\right)\,m_2 
    LaTeX: \Delta p = (v_1 - v_2)\, \frac{m_1\,m_2}{m_1+m_2} 

    The term LaTeX: \mu = \frac{m_1\,m_2}{m_1+m_2} is called reduced mass. LaTeX: \mu is smaller than the lesser of the two masses LaTeX: m_1 and LaTeX: m_2.
    The formulas of inelastic collisions finally are: 

    LaTeX: p_2' = p_2 + \Delta p 
    LaTeX: p_1' = p_1 - \Delta p 

[edit] Elastic Collision

    While inelastic collision converts all kinetic energy of relative motion in to deformation energy, totally elastic collision reverses all deformations.
    The process is forward/backward symmetrical in time. When looking at an animation of two elastically colliding objects we cannot distinguish whether the animation is running forwards or backwards in time.
    When the bodies are at rest relative to each other the elastic collision is only halfway finished.
    Thus, the exchanged momentum during an elastic collision is double the exchanged momentum during an inelastic collision. We get: 

    LaTeX: p_2' = p_2 + 2\,\Delta p 
    LaTeX: p_1' = p_1 - 2\,\Delta p 

    In general, collisions of passive objects show a behavior somewhere in the range between totally inelastic and totally elastic collisions.
    The coefficient of restitution numerically determines the exact behavior. It specifies the ratio of the relative velocity after the collision to the relative velocity before the collision: 

    LaTeX: C_R = \frac{v_2' - v_1'}{v_2 - v_1} 

    Using the coefficient of restitution, our formulas can now be used for arbitrary collisions in one dimension: 

    LaTeX: p_2' = p_2 + (1 + C_R)\,\Delta p 
    LaTeX: p_1' = p_1 - (1 + C_R)\,\Delta p 

    If there is no friction momentum can only be exchanged in the direction orthogonal to the contact point. 

[edit] Collisions in 2 or 3 Dimensions

    Collisions in 2 or more dimensions can be reduced to the one dimensional collision problem discussed above.
    Without friction, forces and momentum can only be exchanged perpendicular to the contact surface reported by the collision detection. This direction is shown as a dotted line in the figure below.
    We can now project the velocity vector LaTeX: \vec v_1 and LaTeX: \vec v_2 onto that direction.
    Thus, the velocities perpendicular to the contact surface LaTeX: \vec {v_1}_\perp and LaTeX: \vec {v_2}_\perp are: 

    LaTeX: {v_1}_\perp = \textnormal{proj}_{\vec n}\, \vec v_1 = \vec v_1 \cdot \vec n_0, 
    LaTeX: {v_2}_\perp = \textnormal{proj}_{\vec n}\, \vec v_2 = \vec v_2 \cdot \vec n_0. 

    where LaTeX: \vec n_0 is the normalized direction vector perpendicular to the contact surface.
    For two colliding balls this direction is simply the vector connecting the ball centers LaTeX: \vec n = \vec x_2 - \vec x_1. 

Two balls colliding at arbitrary position

    Note that LaTeX: {v_1}_\perp and LaTeX: {v_2}_\perp are one dimensional velocities respectively.
    We can now determine whether the bodies are moving towards each other by looking at the difference of the one dimensional velocities: 

    LaTeX: {v_2}_\perp - {v_1}_\perp \left\{\begin{array}{l}> 0: \textnormal{moving towards each other}\\= 0: \textnormal{constant distance}\\< 0: \textnormal{moving apart from each other}\end{array}\right. 

    Collision response must only be performed if the bodies are moving towards each other.
    The perpendicular velocities LaTeX: {v_1}_\perp and LaTeX: {v_2}_\perp are one dimensional velocities and can be used by the above formulas to evaluate the amount of exchanged momentum LaTeX: \Delta p: 

    LaTeX: \Delta p = ({v_1}_\perp - {v_2}_\perp) \frac{m_1\, m_2}{m_1 + m_2} 

    This momentum is exchanged along the direction LaTeX: \vec n, thus the exchanged vectorial momentum is: 

    LaTeX: \Delta \vec p = \Delta p\,\vec n_0. 

    Without friction the horizontal velocity component LaTeX: {\vec v_1}_\parallel = \vec v_1 - {\vec v_1}_\perp and LaTeX: {\vec v_2}_\parallel does not change. 

[edit] Inverse Mass

    To support bodies of infinite mass we store the inverse mass LaTeX: i rather than the mass LaTeX: m: 

    LaTeX: i = \frac1m 

    The lower the inverse mass the higher is the body's mass.
    An inverse mass of zero represents an infinitely heavy body.
    Fixed parts of a level have infinite mass for instance.
    Note that the reduced mass of two bodies evaluates to a simple expression: 

    LaTeX: \mu = \frac1{i_1 + i_2} 

    This formula also states that two bodies of infinite mass must never collide.
    The final formulas of collision resemble to the following set of formulas: 

    LaTeX: \Delta p = \frac{{v_1}_\perp - {v_2}_\perp}{i_1 + i_2} 
    LaTeX: \Delta \vec p = \Delta p\, \vec n_0 
    LaTeX: \vec v_2\,' = \vec v_2 + (1 + C_R)\,\Delta \vec p\,i_1 
    LaTeX: \vec v_1\,' = \vec v_1 - (1 + C_R)\,\Delta \vec p\,i_2 

    Page
    Discussion
    Edit
    History

    Log in / create account

Navigation

    Main page
    Community portal
    Current events
    Recent changes
    Random page
    Help

Search
 
Toolbox

    What links here
    Related changes
    Special pages
    Printable version
    Permanent link

Powered by MediaWiki

    This page was last modified on 1 May 2011, at 22:26.
    This page has been accessed 128 times.
    Privacy policy
    About ZenOfGames
    Disclaimers

[feedly mini] 